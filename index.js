(function(){"use strict";function c(t){console.log("Button field",t.label,t.url),window.open(t.url,"_blank")}function d(t){console.log("Button field",t.label,t.url),t.isLoading=!0,fetch(t.url).then(e=>e.json()).then(e=>{t.isLoading=!1,console.log("Button field","Webhook successfully triggered",e),console.log(t),t.reload===!0&&setTimeout(()=>{t.$reload()},50)}).catch(e=>{t.hasError=!0,console.error("Button field","Error",e)})}const S="";function f(t,e,i,k,l,a,s,m){var n=typeof t=="function"?t.options:t;e&&(n.render=e,n.staticRenderFns=i,n._compiled=!0),k&&(n.functional=!0),a&&(n._scopeId="data-v-"+a);var r;if(s?(r=function(o){o=o||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!o&&typeof __VUE_SSR_CONTEXT__<"u"&&(o=__VUE_SSR_CONTEXT__),l&&l.call(this,o),o&&o._registeredComponents&&o._registeredComponents.add(s)},n._ssrRegister=r):l&&(r=m?function(){l.call(this,(n.functional?this.parent:this).$root.$options.shadowRoot)}:l),r)if(n.functional){n._injectStyles=r;var C=n.render;n.render=function(B,_){return r.call(_),C(B,_)}}else{var u=n.beforeCreate;n.beforeCreate=u?[].concat(u,r):[r]}return{exports:t,options:n}}const h={props:{label:String,text:String,url:String,theme:String,icon:String,open:Boolean,reload:Boolean,help:String,isLoading:!0,hasError:!1},methods:{async onClick(){this.open===!0?c(this):d(this)}}};var p=function(){var e=this,i=e._self._c;return i("k-field",{staticClass:"k-button-field",attrs:{label:e.label,help:e.help}},[i("div",{staticClass:"k-button-field-button-wrapper"},[e.isLoading?e._e():i("k-button",{attrs:{theme:e.theme,icon:e.icon,variant:"filled"},on:{click:e.onClick}},[e._v(" "+e._s(e.text)+" ")]),e.isLoading&&!e.hasError?i("k-button",{attrs:{disabled:!0,icon:"dots",theme:"info",variant:"filled","data-disabled":"true"}},[e._v(" Please wait ")]):e._e(),e.hasError?i("k-button",{attrs:{disabled:!0,icon:"alert",theme:"negative",variant:"filled"},on:{click:e.onClick}},[e._v(" Error ")]):e._e()],1)])},g=[],v=f(h,p,g,!1,null,null,null,null);const b=v.exports;panel.plugin("moritzebeling/panel-button",{fields:{button:b}})})();
